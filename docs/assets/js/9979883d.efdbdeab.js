"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5016],{132:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var o=t(7624),s=t(2172);const i={sidebar_position:2},c="Core Concepts",r={id:"introduction/core-concepts",title:"Core Concepts",description:"Store",source:"@site/docs/introduction/core-concepts.md",sourceDirName:"introduction",slug:"/introduction/core-concepts",permalink:"/mute8/docs/introduction/core-concepts",draft:!1,unlisted:!1,editUrl:"https://github.com/PawelJastrzebski/mute8/docs/introduction/core-concepts.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"home",previous:{title:"Motivation",permalink:"/mute8/docs/introduction/motivation"},next:{title:"Getting Started",permalink:"/mute8/docs/introduction/getting-started"}},a={},l=[{value:"Store",id:"store",level:2},{value:"Action",id:"action",level:2},{value:"Async",id:"async",level:2},{value:"Sub",id:"sub",level:2},{value:"Mut",id:"mut",level:2}];function d(n){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.M)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,o.jsx)(e.h2,{id:"store",children:"Store"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Single unit of state. Think of it as a service that combines immutable data (state), synchronous actions for manipulating that data, and asynchronous actions for handling requests."}),"\n"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["The ",(0,o.jsx)(e.code,{children:"value"})," field contains the initial state properties."]}),"\n",(0,o.jsxs)(e.li,{children:["The ",(0,o.jsx)(e.code,{children:"actions"})," field allows you to define methods to modify the state synchronously."]}),"\n",(0,o.jsxs)(e.li,{children:["The ",(0,o.jsx)(e.code,{children:"async"})," field enables the definition of asynchronous methods to handle async operations."]}),"\n",(0,o.jsxs)(e.li,{children:["The ",(0,o.jsx)(e.code,{children:"plugin"})," field is optional and allows you to add plugins to customize or extend the store's behavior."]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'import { newStore } from "mute8";\n\nconst store = newStore({\n    value: {\n        name: "ok",\n    },\n});\n'})}),"\n",(0,o.jsx)(e.h2,{id:"action",children:"Action"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"A function operating within the context of a mutable state snapshot, crafting the illusion of mutability and offering a straightforward approach to manipulate data without adding unnecessary boilerplate code."}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Actions are defined to encapsulate functionality. They can be used to perform complex operations while maintaining a clean separation of concerns."}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"const store = newStore({\n    value: {\n        cars: [] as Car[],\n    },\n    actions: {\n        addCar(car: Car) {\n            this.cars.push(car);\n        },\n        removeCar(id: number) {\n            this.cars = this.cars.filter(c => c.id != id);\n        },\n    },\n});\n"})}),"\n",(0,o.jsx)(e.h2,{id:"async",children:"Async"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"An asynchronous action is a function designed for handling asynchronous operations, like fetching data from an API. It operates within the context of a small proxy, ensuring, secure manipulation and access to the present state."}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"const store = newStore({\n    value: {\n        fetchCount: 0\n    },\n    async: {\n        async fetchData() {\n            // Simulating an asynchronous operation\n            await new Promise(resolve => setTimeout(resolve, 100));\n            this.mut(v => v.fetchCount++);\n        },\n    },\n});\n"})}),"\n",(0,o.jsx)(e.h2,{id:"sub",children:"Sub"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"A subscription allows you to observe and react to changes in the state, providing a means to listen for any alterations in the data."}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"const sub = store.sub((newState) => {\n    console.log('State changed: ', newState);\n});\n"})}),"\n",(0,o.jsx)(e.h2,{id:"mut",children:"Mut"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsx)(e.p,{children:"Method enabling you to pass an anonymous action and modify the state."}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Different ways to modify the state:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Using the ",(0,o.jsx)(e.code,{children:"mut()"})," method with a function."]}),"\n",(0,o.jsxs)(e.li,{children:["Using the setter ",(0,o.jsx)(e.code,{children:"mut"})," property."]}),"\n",(0,o.jsx)(e.li,{children:"Directly setting a property of the state."}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"// Anonymous action\nstore.mut(v => v.fetchCount = 42);\n// Setter\nstore.mut = {\n    fetchCount: 42,\n}\n// Directly\nstore.fetchCount = 42,\n"})})]})}function u(n={}){const{wrapper:e}={...(0,s.M)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},2172:(n,e,t)=>{t.d(e,{I:()=>r,M:()=>c});var o=t(1504);const s={},i=o.createContext(s);function c(n){const e=o.useContext(i);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),o.createElement(i.Provider,{value:e},n.children)}}}]);